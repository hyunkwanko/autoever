본 과제 수행 과정에서 AI 도구를 적극적으로 활용하여 코드 작성, 테스트 작성, 문제 해결, 리팩토링 등의 작업을 진행했습니다. 아래는 사용된 프롬프트 기록입니다.

---

### DTO 어노테이션 수정

- **질문/프롬프트**:
  ```
  Lombok DTO 클래스에서 builder와 getter, no-args 생성자를 적용하고 싶습니다.
  다른 서버에서 요청할 때 사용할 DTO입니다.
  ```
- **목적**:\
  Lombok 기반 DTO 클래스 수정.

---

### UserService 회원 정보 수정

- **질문/프롬프트**:
  ```
  updateUser 메서드에서 Builder를 잘못 사용하고 있는데, password와 address만 수정하려면 어떻게 해야 하나요?
  ```
- **목적**:\
  Builder 대신 setter로 특정 필드만 업데이트하도록 수정.

---

### JWT 토큰 key 및 만료시간 yml 분리

- **질문/프롬프트**:
  ```
  JwtTokenProvider 클래스에서 Secret Key와 만료시간을 application.yml에서 가져오도록 바꾸고 싶습니다.
  ```
- **목적**:\
  key와 expiry를 설정 파일로 관리하도록 리팩토링.

---

### WebClient 생성자 주입 기반 리팩토링

- **질문/프롬프트**:
  ```
  @Value 필드 주입 대신 생성자 주입으로 kakaoClient, smsClient를 생성하고 싶습니다.
  ```
- **목적**:\
  테스트 용이성과 초기화 문제 해결.

---

### MessageService 테스트 코드 작성

- **질문/프롬프트**:
  ```
  MessageService의 sendKakaoMessage와 sendSms 메서드를 단위 테스트 하고 싶습니다.
  WebClient 호출을 mocking하는 방법이 필요합니다.
  ```
- **목적**:\
  Kakao 메시지와 SMS 발송 메서드 단위 테스트 작성.

---

### 생성자 주입 기반 테스트 코드 수정

- **질문/프롬프트**:
  ```
  기존에 필드 주입으로 작성된 테스트 코드를 생성자 주입 기반으로 수정하고 싶습니다.
  ```
- **목적**:\
  생성자 주입 방식 MessageService 테스트 코드 작성.

---

### 카카오톡 메시지 발송 로직

- **질문/프롬프트**:
  ```
  WebClient로 카카오톡 메시지를 보내고, status code가 2xx이면 성공으로 처리하고 싶습니다.
  반환값은 boolean입니다.
  ```
- **목적**:  카카오톡 메시지 발송 API 호출 코드 작성.

---

### SMS 서버 WebClient 호출 관련

- **질문/프롬프트**:
  ```
  WebClient를 사용해서 SMS API 호출 시,
  Content-Type 'application/x-www-form-urlencoded;charset=UTF-8' is not supported
  에러가 발생합니다. 해결 방법을 알려주세요.
  ```
- **목적**:\
  SMS 요청 시 Content-Type 오류 해결 방법 확인.

---

### SMS API 호출 성공 여부 확인

- **질문/프롬프트**:
  ```
  SMS 발송 메서드 안에서 response를 확인하고 성공 여부를 boolean으로 리턴하고 싶습니다.
  bodyToMono(String.class)로 받을 때 OK 포함 여부로 판단하고 싶습니다.
  ```
- **목적**:\
  WebClient를 사용한 SMS API 호출 후 성공 여부 로깅 및 반환 처리.

---

### AdminService 연령대별 메시지 발송 테스트 문제

- **질문/프롬프트**:
  ```
  연령대별 메시지 발송 테스트에서 필터링된 대상 수가 0으로 나옵니다.
  주민등록번호 기반 연령 계산이 잘못된 것 같습니다.
  ```
- **목적**:  주민번호 기반 나이 계산 검증 및 테스트 데이터 수정.

---

### 서비스 계층과 레포지토리 구조 개선

- **질문/프롬프트**:
  ```
  Spring Boot에서 서비스 계층과 레포지토리 계층의 책임을 명확히 분리하고, 의존성을 느슨하게 하는 구조로 리팩토링하고 싶습니다.
  ```
- **목적**: 계층별 책임 명확화, 테스트 용이성 및 유지보수성 향상.

---

### 트랜잭션 처리 전략 설계

- **질문/프롬프트**:
  ```
  여러 JPA 레포지토리를 사용하는 서비스에서 트랜잭션 전파와 격리 수준을 최적화하고, 성능과 데이터 일관성을 확보하고 싶습니다.
  ```
- **목적**: 복잡한 DB 작업에서 안전한 트랜잭션 관리 및 성능 최적화.

---

### 공통 예외 처리 아키텍처

- **질문/프롬프트**:
  ```
  Spring Boot에서 ControllerAdvice 기반 공통 예외 처리 아키텍처를 설계하고, API 응답 표준화를 적용하고 싶습니다.
  ```
- **목적**: 예외 처리 일관성과 안정적인 메시지 전달.

---

### JWT 인증/인가 아키텍처 설계

- **질문/프롬프트**:
  ```
  Spring Security와 JWT를 활용해 인증과 권한 구조를 설계하고, 토큰 갱신과 만료 전략을 포함하고 싶습니다.
  ```
- **목적**: 확장 가능하고 보안성이 높은 인증/인가 시스템 구현.

---

### 로깅 전략 통합

- **질문/프롬프트**:
  ```
  Spring Boot에서 파일, 콘솔, 외부 로깅 서버를 통합하는 로깅 전략을 설계하고, 환경별 로그 레벨과 포맷을 적용하고 싶습니다.
  ```
- **목적**: 운영/개발 환경 모두에서 효율적인 로그 관리.

---

### 비동기 처리 아키텍처

- **질문/프롬프트**:
  ```
  Spring Boot에서 비동기 작업(Async, Scheduler, Queue)을 설계하고, 작업 실패 시 재시도 및 장애 격리를 구현하고 싶습니다.
  ```
- **목적**: 처리량 향상과 안정적인 비동기 처리.

---

### API 버전 관리 전략

- **질문/프롬프트**:
  ```
  Spring Boot REST API에서 버전 관리 전략을 설계하고, 클라이언트 호환성과 점진적 변경을 지원하고 싶습니다.
  ```
- **목적**: API 변경 시 클라이언트 영향 최소화.

---

### 공통 유틸리티 및 모듈화

- **질문/프롬프트**:
  ```
  Spring Boot 프로젝트에서 공통적으로 사용하는 유틸리티를 모듈화하고, 재사용성과 테스트 용이성을 높이고 싶습니다.
  ```
- **목적**: 코드 중복 최소화 및 유지보수 용이성.

---

### 배치 작업 설계

- **질문/프롬프트**:
  ```
  Spring Batch를 활용해 대규모 데이터 처리 배치 아키텍처를 설계하고, 실패 복구, 재시도, 분할 처리 전략을 포함하고 싶습니다.
  ```
- **목적**: 안정적이고 효율적인 대규모 배치 처리.

---

### SMS API 응답 처리 방식

- **질문/프롬프트**:
  ```
  SMS API에서 200/400/401/500 응답이 올 때, boolean 반환값 처리 로직을 어떻게 작성하면 좋을까요?
  ```
- **목적**:  WebClient 호출 후 다양한 HTTP 상태코드 대응 방식 확인.

---

### WebClient 기본 헤더 설정 문제

- **질문/프롬프트**:
  ```
  WebClient를 필드에서 바로 초기화할 때 @Value 주입값이 null입니다. 생성자 주입으로 바꾸는 방법은?
  ```
- **목적**:  초기화 시점 문제 해결 및 DI 안전성 확보.

---

### 주민등록번호 기반 나이 계산 검증

- **질문/프롬프트**:
  ```
  주민등록번호 앞 6자리 + 성별코드로 나이를 계산하는 로직에서 2000년대 생과 1900년대 생을 정확히 구분하고 싶습니다.
  ```
- **목적**:  AdminService 연령대 필터 로직 정확성 검증.

---

### Lombok DTO Setter 문제

- **질문/프롬프트**:
  ```
  UpdateUserRequest DTO에서 setter가 없어 req.setPassword() 호출 시 에러 발생합니다. 어떻게 해결하나요?
  ```
- **목적**:  DTO에 setter 추가 또는 Builder 활용 방법 확인.

---

### 단위 테스트 verify() 메서드 용도

- **질문/프롬프트**:
  ```
  Mockito의 verify() 메서드는 무엇을 검증할 때 사용하나요?
  ```
- **목적**:  Mock 객체 호출 횟수 및 파라미터 검증 이해.

---

### WebClient 호출 시 Content-Type 문제

- **질문/프롬프트**:
  ```
  application/x-www-form-urlencoded 요청 시 서버에서 HttpMediaTypeNotSupportedException 발생. 해결 방법은?
  ```
- **목적**:  BodyInserters.fromFormData 사용법과 서버 요구 Content-Type 일치 확인.

---

### 단위 테스트에서 주민번호 연령 계산

- **질문/프롬프트**:
  ```
  연령대별 메시지 발송 테스트에서 필터링된 인원이 0으로 나옵니다. 테스트용 SSN 값을 어떻게 만들어야 하나요?
  ```
- **목적**:  테스트 데이터 SSN 설정으로 연령대 필터 정상 동작 검증.

---

## 결론

과제 수행 중 AI를 활용하여:

- WebClient 요청 로직 문제 해결
- DTO/Service 코드 리팩토링
- JWT 설정 개선
- 단위 테스트 작성 및 검증
- 문제 발생 시 원인 분석과 해결

AI 활용으로 코드 작성과 테스트 작성 속도를 크게 향상시킬 수 있었습니다.

